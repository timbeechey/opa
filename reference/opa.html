<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="opa is used to fit ordinal pattern analysis models by computing the
percentage of pair orderings in each row of data which are matched by
corresponding pair orderings in an hypothesis, in addition the chance of a
permutation of the data producing a percentage match as great."><title>Fit an ordinal pattern analysis model — opa • opa</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Fit an ordinal pattern analysis model — opa"><meta property="og:description" content="opa is used to fit ordinal pattern analysis models by computing the
percentage of pair orderings in each row of data which are matched by
corresponding pair orderings in an hypothesis, in addition the chance of a
permutation of the data producing a percentage match as great."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">opa</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.8.1.025</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/opa.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/timbeechey/opa/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Fit an ordinal pattern analysis model</h1>
      <small class="dont-index">Source: <a href="https://github.com/timbeechey/opa/blob/HEAD/R/fitopa.R" class="external-link"><code>R/fitopa.R</code></a></small>
      <div class="d-none name"><code>opa.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>opa</code> is used to fit ordinal pattern analysis models by computing the
percentage of pair orderings in each row of data which are matched by
corresponding pair orderings in an hypothesis, in addition the chance of a
permutation of the data producing a percentage match as great.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">opa</span><span class="op">(</span></span>
<span>  <span class="va">dat</span>,</span>
<span>  <span class="va">hypothesis</span>,</span>
<span>  group <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  pairing_type <span class="op">=</span> <span class="st">"pairwise"</span>,</span>
<span>  diff_threshold <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  nreps <span class="op">=</span> <span class="fl">1000L</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>dat</dt>
<dd><p>a data frame</p></dd>


<dt>hypothesis</dt>
<dd><p>a numeric vector</p></dd>


<dt>group</dt>
<dd><p>an optional factor vector</p></dd>


<dt>pairing_type</dt>
<dd><p>a string</p></dd>


<dt>diff_threshold</dt>
<dd><p>a positive integer or floating point number</p></dd>


<dt>nreps</dt>
<dd><p>an integer, ignored if <code>cval_method = "exact"</code></p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p><code>opa</code> returns an object of class "opafit".</p>


<p>An object of class "opafit" is a list containing the folllowing components:</p><dl><dt>group_pcc</dt>
<dd><p>the percentage of pairwise orderings from all pooled data
  rows which were correctly classified by the hypothesis.</p></dd>

  <dt>individual_pccs</dt>
<dd><p>a vector containing the percentage of pairwise
  orderings that were correctly classified by the hypothesis for each data
  row.</p></dd>

  <dt>correct_pairs</dt>
<dd><p>an integer representing the number of pairwise
  orderings pooled across all data rows that were correctly classified by the
  hypothesis.</p></dd>

  <dt>total_pairs</dt>
<dd><p>an integer, the number of pair orderings contained in
  the data.</p></dd>

  <dt>group_cval</dt>
<dd><p>the group-level chance value.</p></dd>

  <dt>individual_cvals</dt>
<dd><p>a vector containing chance values for each data
  row</p></dd>

  <dt>rand_pccs</dt>
<dd><p>A vector of PCCS calculated from each random ordering
  with length equal to nreps, a list of vectors if a <code>group</code> vector
  was passed to <code>opa()</code>.</p></dd>

  <dt>call</dt>
<dd><p>The matched call</p></dd>

  <dt>hypothesis</dt>
<dd><p>The hypothesis vector passed to <code>opa()</code></p></dd>

  <dt>pairing_type</dt>
<dd><p>A string indicating the method of pairing passed
  to <code>opa()</code>.</p></dd>

  <dt>diff_threshold</dt>
<dd><p>The numeric difference threshold used to calculate
  PCCs. If no value was passed in the <code>diff_threshold</code>, the default of
  0 is used.</p></dd>

  <dt>data</dt>
<dd><p>The data.frame passed to <code>opa()</code>.</p></dd>

  <dt>groups</dt>
<dd><p>The vector of groups passed to <code>opa</code>. If no group vector
  was passed to <code>opa()</code> the default of NULL is used.</p></dd>

  <dt>nreps</dt>
<dd><p>an integer, the number of random re-orderings of the data
  used to compute chance values.</p></dd>

  
</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Data is expected in <strong>wide</strong> format with 1 row per individual and 1
column per measurement condition. Data must contain only columns consisting
of numerical values of the <em>dependent</em> variable.</p>
<p>The length of the <code>hypothesis</code> must be equal to the number of columns in
the dependent variable data.frame <code>dat</code>.</p>
<p>Any <em>independent</em> variable must be passed separately as a vector with the
<code>group</code> keyword. The grouping vector must be a <em>factor</em>.</p>
<p><code>pairing_type</code> must be either "pairwise" or "adjacent". The "pairwise"
option considered the relative ordering of every pair of observations in
the data and every pair of elements of the hypothesis. The "adjacent" option
considers the ordering of adjacent pairs only. If unspecified, the default
is "pairwise".</p>
<p><code>diff_threshold</code> may be a positive integer or double. If unspecified
a default zero threshold is used. The <code>diff_threshold</code> is never applied
to the hypothesis.</p>
<p><code>nreps</code> specifies the number of random reorderigs to use in the
calculation of chance-values.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Grice, J. W., Craig, D. P. A., &amp; Abramson, C. I. (2015). A Simple and
Transparent Alternative to Repeated Measures ANOVA. SAGE Open, 5(3),
215824401560419. &lt;https://doi.org/10.1177/2158244015604192&gt;</p>
<p>Thorngate, W. (1987). Ordinal Pattern Analysis: A Method for Assessing
Theory-Data Fit. Advances in Psychology, 40, 345–364.
&lt;https://doi.org/10.1016/S0166-4115(08)60083-7&gt;</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>group <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"a"</span>, <span class="st">"b"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                  t1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">9</span>, <span class="fl">4</span>, <span class="fl">8</span>, <span class="fl">10</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                  t2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">8</span>, <span class="fl">8</span>, <span class="fl">12</span>, <span class="fl">10</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                  t3 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">8</span>, <span class="fl">5</span>, <span class="fl">10</span>, <span class="fl">11</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dat</span><span class="op">$</span><span class="va">group</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">dat</span><span class="op">$</span><span class="va">group</span>, levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">opamod</span> <span class="op">&lt;-</span> <span class="fu">opa</span><span class="op">(</span><span class="va">dat</span><span class="op">[</span>,<span class="fl">2</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">opa</span><span class="op">(</span><span class="va">dat</span><span class="op">[</span>,<span class="fl">2</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> opa(dat = dat[, 2:4], hypothesis = 1:3)</span>
<span class="r-in"><span><span class="fu">opa</span><span class="op">(</span><span class="va">dat</span><span class="op">[</span>,<span class="fl">2</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, nreps <span class="op">=</span> <span class="fl">500</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> opa(dat = dat[, 2:4], hypothesis = 1:3, nreps = 500)</span>
<span class="r-in"><span><span class="fu">opa</span><span class="op">(</span><span class="va">dat</span><span class="op">[</span>,<span class="fl">2</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, pairing_type <span class="op">=</span> <span class="st">"adjacent"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> opa(dat = dat[, 2:4], hypothesis = 1:3, pairing_type = "adjacent")</span>
<span class="r-in"><span><span class="fu">opa</span><span class="op">(</span><span class="va">dat</span><span class="op">[</span>,<span class="fl">2</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, diff_threshold <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> opa(dat = dat[, 2:4], hypothesis = 1:3, diff_threshold = 1)</span>
<span class="r-in"><span><span class="fu">opa</span><span class="op">(</span><span class="va">dat</span><span class="op">[</span>,<span class="fl">2</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, group <span class="op">=</span> <span class="va">dat</span><span class="op">$</span><span class="va">group</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> opa(dat = dat[, 2:4], hypothesis = 1:3, group = dat$group)</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Timothy Beechey.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

